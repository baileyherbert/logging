<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Just another logging solution for your JavaScript, TypeScript, and Node.js apps."><meta name=author content="Bailey Herbert"><link href=https://docs.bailey.sh/logging/main/guide/transports/ rel=canonical><link rel=icon href=../../assets/logo.png><meta name=generator content="mkdocs-1.2.3, mkdocs-material-8.1.8+insiders-4.6.1"><title>Transports - Logging</title><link rel=stylesheet href=../../assets/stylesheets/main.bfcc4ef8.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.e6a45f82.min.css><link rel=preload as=style href=../../assets/stylesheets/vendor/mermaid.d607d465.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/styles.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=light-blue> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#transports class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Logging class="md-header__button md-logo" aria-label=Logging data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Logging </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Transports </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=light-blue data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/baileyherbert/logging title="Go to repository" style="display: block; font-size: .65rem; line-height: 1.2; white-space: nowrap; -webkit-backface-visibility: hidden; backface-visibility: hidden; transition: opacity 250ms;"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> baileyherbert/logging </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Logging class="md-nav__button md-logo" aria-label=Logging data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> Logging </label> <div class=md-nav__source> <a href=https://github.com/baileyherbert/logging title="Go to repository" style="display: block; font-size: .65rem; line-height: 1.2; white-space: nowrap; -webkit-backface-visibility: hidden; backface-visibility: hidden; transition: opacity 250ms;"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> baileyherbert/logging </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> <span class=md-ellipsis> Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Guide data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../logging/ class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Transports </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Transports </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#console_transports class=md-nav__link> Console transports </a> <nav class=md-nav aria-label="Console transports"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> <li class=md-nav__item> <a href=#options class=md-nav__link> Options </a> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> Events </a> <nav class=md-nav aria-label=Events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#loggerattached class=md-nav__link> loggerAttached </a> </li> <li class=md-nav__item> <a href=#loggerdetached class=md-nav__link> loggerDetached </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#file_transports class=md-nav__link> File transports </a> <nav class=md-nav aria-label="File transports"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example_1 class=md-nav__link> Example </a> </li> <li class=md-nav__item> <a href=#options_1 class=md-nav__link> Options </a> </li> <li class=md-nav__item> <a href=#events_1 class=md-nav__link> Events </a> <nav class=md-nav aria-label=Events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#loggerattached_1 class=md-nav__link> loggerAttached </a> </li> <li class=md-nav__item> <a href=#loggerdetached_1 class=md-nav__link> loggerDetached </a> </li> <li class=md-nav__item> <a href=#rotated class=md-nav__link> rotated </a> </li> <li class=md-nav__item> <a href=#cleaned class=md-nav__link> cleaned </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#creating_custom_transports class=md-nav__link> Creating custom transports </a> <nav class=md-nav aria-label="Creating custom transports"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic_template class=md-nav__link> Basic template </a> </li> <li class=md-nav__item> <a href=#dealing_with_promises class=md-nav__link> Dealing with promises </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../prefixes/ class=md-nav__link> <span class=md-ellipsis> Prefixes </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#console_transports class=md-nav__link> Console transports </a> <nav class=md-nav aria-label="Console transports"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> <li class=md-nav__item> <a href=#options class=md-nav__link> Options </a> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> Events </a> <nav class=md-nav aria-label=Events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#loggerattached class=md-nav__link> loggerAttached </a> </li> <li class=md-nav__item> <a href=#loggerdetached class=md-nav__link> loggerDetached </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#file_transports class=md-nav__link> File transports </a> <nav class=md-nav aria-label="File transports"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example_1 class=md-nav__link> Example </a> </li> <li class=md-nav__item> <a href=#options_1 class=md-nav__link> Options </a> </li> <li class=md-nav__item> <a href=#events_1 class=md-nav__link> Events </a> <nav class=md-nav aria-label=Events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#loggerattached_1 class=md-nav__link> loggerAttached </a> </li> <li class=md-nav__item> <a href=#loggerdetached_1 class=md-nav__link> loggerDetached </a> </li> <li class=md-nav__item> <a href=#rotated class=md-nav__link> rotated </a> </li> <li class=md-nav__item> <a href=#cleaned class=md-nav__link> cleaned </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#creating_custom_transports class=md-nav__link> Creating custom transports </a> <nav class=md-nav aria-label="Creating custom transports"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic_template class=md-nav__link> Basic template </a> </li> <li class=md-nav__item> <a href=#dealing_with_promises class=md-nav__link> Dealing with promises </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=transports>Transports<a class=headerlink href=#transports title="Permanent link">&para;</a></h1> <h2 id=console_transports>Console transports<a class=headerlink href=#console_transports title="Permanent link">&para;</a></h2> <p>This transport writes output to the console.</p> <h3 id=example>Example<a class=headerlink href=#example title="Permanent link">&para;</a></h3> <p>You can easily create a console transport with the <code>createConsoleTransport</code> method. The default options are shown below.</p> <div class=highlight><pre><span></span><code><span class=kd>const</span> <span class=nx>transport</span> <span class=o>=</span> <span class=nx>logger</span><span class=p>.</span><span class=nx>createConsoleTransport</span><span class=p>({</span>
    <span class=nx>destination</span><span class=o>:</span> <span class=s1>&#39;console&#39;</span><span class=p>,</span>
    <span class=nx>formatting</span><span class=o>:</span> <span class=p>{},</span>
    <span class=nx>prefixes</span><span class=o>:</span> <span class=p>{}</span>
<span class=p>});</span>
</code></pre></div> <h3 id=options>Options<a class=headerlink href=#options title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Types</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>destination</code></td> <td><code class=highlight><span class=s1>&#39;console&#39;</span> <span class=o>|</span> <span class=s1>&#39;std&#39;</span></code></td> <td>Specifies whether output should be sent to the <code>console</code> functions or to <code>stdout</code>.</td> <td><code>console</code></td> </tr> <tr> <td><code>formatting</code></td> <td><a href=https://microsoft.github.io/PowerBI-JavaScript/interfaces/_node_modules__types_node_util_d_._util_.inspectoptions.html><code>InspectOptions</code></a></td> <td>Overrides specific options for <code>util.format()</code>.</td> <td><code>{}</code></td> </tr> <tr> <td><code>prefixes</code></td> <td><a href=../prefixes/ ><code>PrefixGeneratorOptions</code></a></td> <td>Customizes prefix generation.</td> <td><code>{}</code></td> </tr> </tbody> </table> <h3 id=events>Events<a class=headerlink href=#events title="Permanent link">&para;</a></h3> <h4 id=loggerattached><code>loggerAttached</code><a class=headerlink href=#loggerattached title="Permanent link">&para;</a></h4> <p>This event is emitted when a logger has been attached to the transport.</p> <table> <thead> <tr> <th>Argument</th> <th>Types</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>logger</code></td> <td><code>Logger</code></td> <td>The logger that was attached.</td> </tr> </tbody> </table> <h4 id=loggerdetached><code>loggerDetached</code><a class=headerlink href=#loggerdetached title="Permanent link">&para;</a></h4> <p>This event is emitted when a logger has been detached from the transport.</p> <table> <thead> <tr> <th>Argument</th> <th>Types</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>logger</code></td> <td><code>Logger</code></td> <td>The logger that was detached.</td> </tr> </tbody> </table> <h2 id=file_transports>File transports<a class=headerlink href=#file_transports title="Permanent link">&para;</a></h2> <p>This transport writes output to a log file with automatic rotation.</p> <h3 id=example_1>Example<a class=headerlink href=#example_1 title="Permanent link">&para;</a></h3> <p>You can easily create a file transport with the <code>createFileTransport</code> method. The default options are shown below.</p> <div class=highlight><pre><span></span><code><span class=kd>const</span> <span class=nx>transport</span> <span class=o>=</span> <span class=nx>logger</span><span class=p>.</span><span class=nx>createFileTransport</span><span class=p>({</span>
    <span class=nx>fileName</span><span class=o>:</span> <span class=s1>&#39;console.log&#39;</span><span class=p>,</span>
    <span class=nx>encoding</span><span class=o>:</span> <span class=s1>&#39;utf8&#39;</span><span class=p>,</span>
    <span class=nx>eol</span><span class=o>:</span> <span class=s1>&#39;lf&#39;</span><span class=p>,</span> <span class=c1>// crlf for windows</span>
    <span class=nx>formatting</span><span class=o>:</span> <span class=p>{},</span>
    <span class=nx>prefixes</span><span class=o>:</span> <span class=p>{},</span>
    <span class=nx>rotation</span><span class=o>:</span> <span class=p>{</span>
        <span class=nx>dirName</span>: <span class=kt>undefined</span><span class=p>,</span> <span class=c1>// defaults to same dir as fileName</span>
        <span class=nx>maxFileSize</span>: <span class=kt>16777216</span><span class=p>,</span> <span class=c1>// 16 MiB</span>
        <span class=nx>maxArchiveCount</span>: <span class=kt>10</span><span class=p>,</span>
        <span class=nx>maxArchiveAge</span>: <span class=kt>2678400000</span> <span class=c1>// 31 days</span>
    <span class=p>},</span>
<span class=p>});</span>
</code></pre></div> <h3 id=options_1>Options<a class=headerlink href=#options_1 title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Types</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>fileName</code></td> <td><code>string</code></td> <td>The name or path of the log file.</td> <td><em>required</em></td> </tr> <tr> <td><code>encoding</code></td> <td><code>string</code></td> <td>The encoding to use.</td> <td><code>utf8</code></td> </tr> <tr> <td><code>eol</code></td> <td><code class=highlight><span class=s1>&#39;lf&#39;</span> <span class=o>|</span> <span class=s1>&#39;crlf&#39;</span></code></td> <td>The line endings to use.</td> <td><code>crlf</code> for Windows<br> <code>lf</code> for others</td> </tr> <tr> <td><code>formatting</code></td> <td><a href=https://microsoft.github.io/PowerBI-JavaScript/interfaces/_node_modules__types_node_util_d_._util_.inspectoptions.html><code>InspectOptions</code></a></td> <td>Overrides specific options for <code>util.format()</code>.</td> <td><code>{}</code></td> </tr> <tr> <td><code>prefixes</code></td> <td><a href=../prefixes/ ><code>PrefixGeneratorOptions</code></a></td> <td>Customizes prefix generation.</td> <td><code>{}</code></td> </tr> <tr> <td><code>rotation</code></td> <td><code>object</code>, <code>false</code></td> <td>Customizes automatic log rotation.</td> <td>See below</td> </tr> </tbody> </table> <p><strong>Rotation options:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Types</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>dirName</code></td> <td><code>string?</code></td> <td>The name or path of the directory for archived logs.</td> <td>Same as log file.</td> </tr> <tr> <td><code>maxFileSize</code></td> <td><code>number</code></td> <td>The maximum size of the log file (in bytes) before rotation.</td> <td><code>16777216</code> (16 MiB)</td> </tr> <tr> <td><code>maxArchiveCount</code></td> <td><code>number</code></td> <td>The maximum number of log archives to keep on the disk. Setting this to <code>0</code> will disable this feature.</td> <td><code>10</code></td> </tr> <tr> <td><code>maxArchiveAge</code></td> <td><code>number</code></td> <td>The maximum age of log archives (in milliseconds). Setting this to <code>0</code> will disable this feature.</td> <td><code>2678400000</code> (31 days)</td> </tr> </tbody> </table> <h3 id=events_1>Events<a class=headerlink href=#events_1 title="Permanent link">&para;</a></h3> <h4 id=loggerattached_1><code>loggerAttached</code><a class=headerlink href=#loggerattached_1 title="Permanent link">&para;</a></h4> <p>This event is emitted when a logger has been attached to the transport.</p> <table> <thead> <tr> <th>Argument</th> <th>Types</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>logger</code></td> <td><code>Logger</code></td> <td>The logger that was attached.</td> </tr> </tbody> </table> <h4 id=loggerdetached_1><code>loggerDetached</code><a class=headerlink href=#loggerdetached_1 title="Permanent link">&para;</a></h4> <p>This event is emitted when a logger has been detached from the transport.</p> <table> <thead> <tr> <th>Argument</th> <th>Types</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>logger</code></td> <td><code>Logger</code></td> <td>The logger that was detached.</td> </tr> </tbody> </table> <h4 id=rotated><code>rotated</code><a class=headerlink href=#rotated title="Permanent link">&para;</a></h4> <p>This event is emitted when the log file is rotated.</p> <table> <thead> <tr> <th>Argument</th> <th>Types</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>file</code></td> <td><code>object</code></td> <td>Details about the rotated log file.</td> </tr> </tbody> </table> <h4 id=cleaned><code>cleaned</code><a class=headerlink href=#cleaned title="Permanent link">&para;</a></h4> <p>This event is emitted when an archived log file is deleted due to expiry.</p> <table> <thead> <tr> <th>Argument</th> <th>Types</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>file</code></td> <td><code>object</code></td> <td>Details about the deleted log file.</td> </tr> </tbody> </table> <h2 id=creating_custom_transports>Creating custom transports<a class=headerlink href=#creating_custom_transports title="Permanent link">&para;</a></h2> <h3 id=basic_template>Basic template<a class=headerlink href=#basic_template title="Permanent link">&para;</a></h3> <p>Transports receive an object each time a logger emits output. This object contains the logger, the logging level, the timestamp, and an array of raw arguments that were passed to the logger.</p> <div class=highlight><pre><span></span><code><span class=k>import</span> <span class=p>{</span> <span class=nx>Transport</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@baileyherbert/logging&#39;</span><span class=p>;</span>

<span class=k>export</span> <span class=kd>class</span> <span class=nx>CustomTransport</span> <span class=k>extends</span> <span class=nx>Transport</span> <span class=p>{</span>

    <span class=cm>/**</span>
<span class=cm>     * Invoked when output is received from an attached logger.</span>
<span class=cm>     */</span>
    <span class=k>protected</span> <span class=nx>onLoggerOutput</span><span class=p>(</span><span class=nx>output</span>: <span class=kt>LoggerOutput</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(...</span><span class=nx>output</span><span class=p>.</span><span class=nx>args</span><span class=p>);</span>
    <span class=p>}</span>

<span class=p>}</span>
</code></pre></div> <h3 id=dealing_with_promises>Dealing with promises<a class=headerlink href=#dealing_with_promises title="Permanent link">&para;</a></h3> <p>In some cases, a transport might need to deliver output asynchronously. You may also need to implement an internal queue to accept new output while still delivering previous output. This responsibility for these lie solely with the transport.</p> </article> </div> </div> <a href=# class="md-top md-top--hidden md-icon" data-md-component=top> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../logging/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Logging" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Logging </div> </div> </a> <a href=../prefixes/ class="md-footer__link md-footer__link--next" aria-label="Next: Prefixes" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Prefixes </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs Insiders </a> </div> <div class=md-social> <a href=https://github.com/baileyherbert target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://hub.docker.com/u/baileyherbert target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.top", "navigation.tracking", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.f7fe2898.min.js", "version": {"provider": "mike", "default": "latest"}}</script> <script src=../../assets/javascripts/bundle.03f8e4a4.min.js></script> </body> </html>